<!DOCTYPE html>
<html class="no-js">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>Avaya Messaging UI sdk</title>
    <link href="images/logo-icon.svg" rel="icon" type="image/svg">
    <script>var pathToRoot = "";</script>
    <script>document.documentElement.classList.replace("no-js","js");</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
    if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    } else {
        const savedDarkMode = JSON.parse(storage)
        if(savedDarkMode === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    }
    </script>
<script type="text/javascript" src="https://unpkg.com/kotlin-playground@1/dist/playground.min.js" async="async"></script>
<script type="text/javascript" src="scripts/sourceset_dependencies.js" async="async"></script>
<link href="styles/style.css" rel="Stylesheet">
<link href="styles/main.css" rel="Stylesheet">
<link href="styles/prism.css" rel="Stylesheet">
<link href="styles/logo-styles.css" rel="Stylesheet">
<link href="styles/font-jb-sans-auto.css" rel="Stylesheet">
<script type="text/javascript" src="scripts/clipboard.js" async="async"></script>
<script type="text/javascript" src="scripts/navigation-loader.js" async="async"></script>
<script type="text/javascript" src="scripts/platform-content-handler.js" async="async"></script>
<script type="text/javascript" src="scripts/main.js" defer="defer"></script>
<script type="text/javascript" src="scripts/prism.js" async="async"></script>
<script type="text/javascript" src="scripts/symbol-parameters-wrapper_deferred.js" defer="defer"></script>
</head>
<body>
    <div class="root">
<nav class="navigation" id="navigation-wrapper">
    <div class="navigation--inner">
        <div class="navigation-title">
            <button class="menu-toggle" id="menu-toggle" type="button">toggle menu</button>
            <div class="library-name">
                    <a class="library-name--link" href="index.html">
                            Avaya Messaging UI sdk
                    </a>
            </div>
            <div class="library-version">
0.1            </div>
        </div>
        <div class="filter-section" id="filter-section">
                <button class="platform-tag platform-selector jvm-like" data-active="" data-filter=":messaging-ui:dokkaHtml/release">androidJvm</button>
        </div>
    </div>
    <div class="navigation-controls">
        <button class="navigation-controls--btn navigation-controls--theme" id="theme-toggle-button" type="button">switch theme</button>
        <div class="navigation-controls--btn navigation-controls--search" id="searchBar" role="button">search in API</div>
    </div>
</nav>
        <div id="container">
            <div class="sidebar" id="leftColumn">
                <div class="sidebar--inner" id="sideMenu"></div>
            </div>
            <div id="main">
<div class="main-content" id="content" pageIds="Avaya Messaging UI sdk::////PointingToDeclaration//-383249105">
  <div class="breadcrumbs"></div>
  <div class="cover ">
    <h1 class="cover"><span><span>Avaya</span></span> <span><span>Messaging</span></span> <span><span>UI</span></span> <span><span>sdk</span></span></h1>
    <div class="platform-hinted UnderCoverText" data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":messaging-ui:dokkaHtml/release"><h2 class="">Introduction</h2><p class="paragraph">Welcome to the Avaya Messaging UI SDK documentation. This SDK seamlessly integrates with the Avaya Messaging SDK, providing a highly customizable user interface for chat screens while simplifying the integration of messaging operations into client applications. The Avaya Messaging UI SDK empowers developers to finely tailor the chat interface, allowing customization of colors, strings, and typography to meet the specific visual requirements of your application.</p><h2 class="">Features</h2><ol><li><p class="paragraph"><strong>Conversation Details</strong>    Effortlessly display the Business image and name of the organization at the top of the messaging interface, establishing a personalized and recognizable user experience.</p></li><li><p class="paragraph"><strong>Message Display</strong>    Present messages from various sources such as agent, supervisor  and bot with clear timestamps and intuitive status indicators, including real-time updates for messages being sent, successfully delivered, or requiring a retry due to failure.</p></li><li><p class="paragraph"><strong>Message Separation</strong>    Organize messages based on the date, providing users with a structured and easily navigable conversation timeline for a seamless and enjoyable messaging experience.</p></li><li><p class="paragraph"><strong>Participant Name Display</strong>    Enhance conversation clarity by displaying participant names, particularly useful for non-customers, making it easy for users to identify and follow the discussion flow. And show active participants in the flow at any point of conversation.</p></li><li><p class="paragraph"><strong>Message History</strong>    Retrieve and display historical messages from previous conversations, enabling users to reference past interactions for context and continuity.</p></li><li><p class="paragraph"><strong>Infinite Scrolling</strong>    Improve user experience by automatically fetching older messages as users scroll to top, ensuring a seamless and uninterrupted conversation exploration.</p></li><li><p class="paragraph"><strong>Text Messaging</strong>    Enable users to effortlessly type and send text messages, providing a fundamental and user-friendly communication feature.</p></li><li><p class="paragraph"><strong>Message Retry</strong>    Facilitate communication resilience by allowing users to retry sending messages that may have failed in previous attempts.</p></li><li><p class="paragraph"><strong>Attachments</strong>    Enhance communication capabilities by enabling users to send attachments, either independently or with accompanying text messages, fostering a richer and more interactive messaging experience.</p></li><li><p class="paragraph"><strong>Live Message Display</strong>     Provide users with a real-time display of messages exchanged between customer and agent/bot, ensuring an up-to-the-moment view of the ongoing conversation.</p></li><li><p class="paragraph"><strong>Location Sharing</strong>     Empower users to share location information seamlessly when requested by an agent, enhancing the contextual richness of conversations.</p></li><li><p class="paragraph"><strong>Rich Media and Attachments</strong>     Support a variety of rich media types, including postbacks, replies, and carousel displays, allowing for dynamic and engaging content within the messaging interface.</p></li></ol><h2 class="">Customization Options in Avaya Messaging UI SDK</h2><p class="paragraph">The Avaya Messaging UI SDK empowers developers with robust customization features, allowing seamless integration of the UI with the branding and design aesthetics of their applications. To tailor the UI to your specific preferences, the SDK introduces the concept of MessagingThemeConfig, an object that plays a pivotal role in configuring the UI's visual elements.</p><h3 class="">Using <code class="lang-kotlin">MessagingThemeConfig</code></h3><p class="paragraph">To initiate customization, create an instance of <code class="lang-kotlin">MessagingThemeConfig</code> and pass it to the UI SDK. This object acts as a blueprint for designing the UI according to your specifications. The <code class="lang-kotlin">MessagingThemeConfig</code> encompasses four key parameters:</p><ul><li><p class="paragraph"><strong>Light Colors and Dark Colors:</strong> <code class="lang-kotlin">CustomColors</code> - These parameters enable you to define a spectrum of colors for various UI elements, such as text, background, chat windows, text field color, and button colors for carousel, reply, location, and postbacks. Customize light and dark color schemes to ensure a visually harmonious experience.</p></li><li><p class="paragraph"><strong>Typography:</strong> <code class="lang-kotlin">TextStyle</code> - Set the typography for all text components within the chat screen. By defining the typography, you seamlessly integrate your chosen font styles into the UI, providing a consistent and branded textual experience.</p></li><li><p class="paragraph"><strong>Custom Icons Colors:</strong> <code class="lang-kotlin">CustomIconsAndColors</code> - Tailor the colors of icons used in the chat screen, such as the send message icon, attach file icon, and pick image icon. The flexibility extends to setting distinct colors for both light and dark themes, ensuring a cohesive and aesthetically pleasing UI.</p></li><li><p class="paragraph"><strong>Custom Strings:</strong> <code class="lang-kotlin">CustomStrings</code> - Pass custom strings into the UI SDK, allowing you to modify text content according to your preferences. This feature supports localized strings, enabling a personalized and language-specific user experience.</p></li></ul><h3 class="">Other Customizable Elements in UI SDK</h3><ul><li><p class="paragraph"><strong>Flags:</strong> Utilize the flag variables to set flags indicating whether to display agent and automation joining and leaving the conversation. Additionally, choose to reveal the actual name of the agent to the customer, enhancing transparency in communication. You can also use business as participant.</p></li><li><p class="paragraph"><strong>Theme:</strong> Manually set the theme of the UI SDK using the <code class="lang-kotlin">setUiThemeLight()</code> and <code class="lang-kotlin">setUiThemeDark()</code> functions. Once set, the theme remains unchanged until modified. In the absence of a specified theme, the UI SDK defaults to the system theme.</p></li></ul><p class="paragraph">The Avaya Messaging UI SDK's customization capabilities empower developers to create a tailored, visually cohesive, and brand-aligned user interface. By leveraging the various parameters within <code class="lang-kotlin">MessagingThemeConfig</code>, developers can ensure a seamless integration that reflects the unique identity of their applications.</p><h3 class="">Using the Messaging UI SDK in Your Application</h3><h2 class="">Integration Steps</h2><p class="paragraph">To incorporate the Messaging UI SDK into your application, follow these simple steps:</p><ol><li><p class="paragraph"><strong>Download the SDK:</strong>    Add the SDK to any folder within your application. Obtain the path of the <code class="lang-kotlin">messaging-ui.aar</code> file.</p></li><ol><li><p class="paragraph"><strong>Update </strong><code class="strong lang-kotlin"><strong>build.gradle</strong></code><strong>:</strong>       Open your app-level <code class="lang-kotlin">build.gradle</code> file.       Add the following dependency to include the Messaging UI SDK:</p><ul><li><p class="paragraph">Groovy</p></li></ul><div class="sample-container"><pre><code class="block lang-groovy" theme="idea">dependencies {<br>    implementation files('{path}/messaging-ui.aar')<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">kotlinDSL</p><div class="sample-container"><pre><code class="block lang-kotlindsl" theme="idea">dependencies {<br>    implementation (files(&quot;{path}/messaging-ui.aar&quot;))<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div></li></ol></ol><p class="paragraph">Replace <code class="lang-kotlin">{path}</code> with the absolute path of the <code class="lang-kotlin">messaging-ui.aar</code> file. And sync the project.</p><h2 class="">Getting Started with UI Customization and flags</h2><h2 class="">AvayaMessagingUiSdk</h2><h3 class="">Flags:</h3><ul><li><p class="paragraph"><code class="lang-kotlin">showAgentEvents</code> : Set this flag to true if you want to show the agent joined and left events in the messaging window.</p></li><li><p class="paragraph"><code class="lang-kotlin">showAutomationEvents</code> : Set this flag to true if you want to show the automation joined and left events in the messaging window</p></li><li><p class="paragraph"><code class="lang-kotlin">showAgentName</code> : Set this flag to true if you want to show the agent name in the messaging window</p></li><li><p class="paragraph"><code class="lang-kotlin">showActiveParticipants</code> : Set this flag to true if you want to show the active participants list in the messaging window</p></li><li><p class="paragraph"><code class="lang-kotlin">useBusinessAsParticipant</code> : Set this flag to true if you want to use business as participant in the messaging window</p></li></ul><h3 class="">Functions:</h3><ul><li><p class="paragraph"><code class="lang-kotlin">setUiThemeLight()</code> Set the UI theme to light.</p></li><li><p class="paragraph"><code class="lang-kotlin">setUiThemeDark()</code> Set the UI theme to dark.</p></li><li><p class="paragraph"><code class="lang-kotlin">setMessagingTheme(theme: MessagingThemeConfig)</code> Customize the messaging theme configuration.</p></li><li><p class="paragraph"><code class="lang-kotlin">getConversationHandler(conversation: Conversation)</code> Retrieve the conversation handler object by passing the conversation object from the messaging SDK. This object manages all conversation-related functionalities. You should Pass it while calling the composable function for ui</p></li><li><p class="paragraph"><code class="lang-kotlin">setUiEventHandler(handler: UiEventHandler)</code> This handler provides functionality that should be handled by app like fetching location details and providing location url using latitude and longitude</p></li><li><p class="paragraph"><code class="lang-kotlin">setInternetState(connected: Boolean)</code> If your app is observing internet connection state, you can call this function to provide updates for internet connection state. It will be reflected on messaging window</p></li><li><p class="paragraph"><code class="lang-kotlin">setLanguage(locale: Locale, customStrings: CustomStrings?)</code> You can use this function to change the language of the messaging window. For supported languages sdk handles localized strings, however it can still be updated using customStrings. For unsupported languages, default English strings will be used if not provided in custom strings passed.</p></li><li><p class="paragraph"><code class="lang-kotlin">supportedLocales()</code> This function returns set of locales supported by default which means it has localized strings for these locales by default.</p></li><li><p class="paragraph"><code class="lang-kotlin">isSupportedLocale(locale: Locale)</code> This function returns true if provided locale is supported by default else returns false</p></li></ul><h3 class="">ConversationHandler</h3><p class="paragraph">The <code class="lang-kotlin">ConversationHandler</code> exposes essential properties and methods for developers:</p><ul><li><p class="paragraph"><code class="lang-kotlin">pageSize</code>: Set and get the pagination size for retrieving older messages.</p></li><li><p class="paragraph"><code class="lang-kotlin">hasNewEvent</code>: Live data to observe if there are any new events.</p></li><li><p class="paragraph"><code class="lang-kotlin">newEventRead()</code>: Used to reset hasNewEvent flag.</p></li></ul><h3 class="">UiEventHandler</h3><ul><li><p class="paragraph"><code class="lang-kotlin">UiEventHandler</code> provides functionality that should be handled by the app. It includes the following methods:</p></li><li><p class="paragraph"><code class="lang-kotlin">getLocationDetails(onComplete:(LocationMessage?)-&gt;Unit)</code>: THe app should fetch the location and call the onComplete method with the location details or null if failed to fetch the location details.</p></li><li><p class="paragraph"><code class="lang-kotlin">getLocationUrl(latitude:Double?,longitude:Double?):String</code> : The app should provide the location url using latitude and longitude clicking on which user will be directed to maps or browser.</p></li></ul><h3 class="">Show Messaging UI</h3><ul><li><p class="paragraph">To show the messaging UI, you can use the <code class="lang-kotlin">ShowMessagingUI(conversationHandler: ConversationHandler)</code> composable function. You can pass the conversation handler object to this function and UI for that conversation will be rendered on Messaging screen.</p></li></ul><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea"></code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div></div></div>
  </div>
  <h2 class="">Packages</h2>
  <div class="table"><a data-name="-336459400%2FPackages%2F-383249105" anchor-label="com.avaya.messaging_ui" id="-336459400%2FPackages%2F-383249105" data-filterable-set=":messaging-ui:dokkaHtml/release"></a>
    <div class="table-row" data-filterable-current=":messaging-ui:dokkaHtml/release" data-filterable-set=":messaging-ui:dokkaHtml/release">
      <div>
        <div class="main-subrow ">
          <div class=""><span class="inline-flex">
              <div><a href="-avaya -messaging -u-i sdk/com.avaya.messaging_ui/index.html">com.avaya.messaging_ui</a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-336459400%2FPackages%2F-383249105"></span>
                <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
              </span></span></div>
          <div class="pull-right">
            <div class="platform-tags no-gutters">
              <div class="platform-tag jvm-like">androidJvm</div>
            </div>
          </div>
        </div>
        <div></div>
      </div>
    </div>
<a data-name="-427408560%2FPackages%2F-383249105" anchor-label="com.avaya.messaging_ui.components" id="-427408560%2FPackages%2F-383249105" data-filterable-set=":messaging-ui:dokkaHtml/release"></a>
    <div class="table-row" data-filterable-current=":messaging-ui:dokkaHtml/release" data-filterable-set=":messaging-ui:dokkaHtml/release">
      <div>
        <div class="main-subrow ">
          <div class=""><span class="inline-flex">
              <div><a href="-avaya -messaging -u-i sdk/com.avaya.messaging_ui.components/index.html">com.avaya.messaging_ui.components</a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-427408560%2FPackages%2F-383249105"></span>
                <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
              </span></span></div>
          <div class="pull-right">
            <div class="platform-tags no-gutters">
              <div class="platform-tag jvm-like">androidJvm</div>
            </div>
          </div>
        </div>
        <div></div>
      </div>
    </div>
<a data-name="-1556131233%2FPackages%2F-383249105" anchor-label="com.avaya.messaging_ui.customTheming" id="-1556131233%2FPackages%2F-383249105" data-filterable-set=":messaging-ui:dokkaHtml/release"></a>
    <div class="table-row" data-filterable-current=":messaging-ui:dokkaHtml/release" data-filterable-set=":messaging-ui:dokkaHtml/release">
      <div>
        <div class="main-subrow ">
          <div class=""><span class="inline-flex">
              <div><a href="-avaya -messaging -u-i sdk/com.avaya.messaging_ui.customTheming/index.html">com.avaya.messaging_ui.customTheming</a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1556131233%2FPackages%2F-383249105"></span>
                <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
              </span></span></div>
          <div class="pull-right">
            <div class="platform-tags no-gutters">
              <div class="platform-tag jvm-like">androidJvm</div>
            </div>
          </div>
        </div>
        <div></div>
      </div>
    </div>
<a data-name="109847795%2FPackages%2F-383249105" anchor-label="com.avaya.messaging_ui.model" id="109847795%2FPackages%2F-383249105" data-filterable-set=":messaging-ui:dokkaHtml/release"></a>
    <div class="table-row" data-filterable-current=":messaging-ui:dokkaHtml/release" data-filterable-set=":messaging-ui:dokkaHtml/release">
      <div>
        <div class="main-subrow ">
          <div class=""><span class="inline-flex">
              <div><a href="-avaya -messaging -u-i sdk/com.avaya.messaging_ui.model/index.html">com.avaya.messaging_ui.model</a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="109847795%2FPackages%2F-383249105"></span>
                <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
              </span></span></div>
          <div class="pull-right">
            <div class="platform-tags no-gutters">
              <div class="platform-tag jvm-like">androidJvm</div>
            </div>
          </div>
        </div>
        <div></div>
      </div>
    </div>
<a data-name="223218982%2FPackages%2F-383249105" anchor-label="com.avaya.messaging_ui.screen" id="223218982%2FPackages%2F-383249105" data-filterable-set=":messaging-ui:dokkaHtml/release"></a>
    <div class="table-row" data-filterable-current=":messaging-ui:dokkaHtml/release" data-filterable-set=":messaging-ui:dokkaHtml/release">
      <div>
        <div class="main-subrow ">
          <div class=""><span class="inline-flex">
              <div><a href="-avaya -messaging -u-i sdk/com.avaya.messaging_ui.screen/index.html">com.avaya.messaging_ui.screen</a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="223218982%2FPackages%2F-383249105"></span>
                <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
              </span></span></div>
          <div class="pull-right">
            <div class="platform-tags no-gutters">
              <div class="platform-tag jvm-like">androidJvm</div>
            </div>
          </div>
        </div>
        <div></div>
      </div>
    </div>
  </div>
</div>
      <div class="footer">
        <span class="go-to-top-icon"><a href="#content" id="go-to-top-link"></a></span><span>© 2024 Copyright</span><span
                class="pull-right"><span>Generated by </span><a
                href="https://github.com/Kotlin/dokka"><span>dokka</span><span class="padded-icon"></span></a></span>
      </div>
            </div>
        </div>
    </div>
</body>
</html>
