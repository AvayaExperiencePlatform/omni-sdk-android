<!DOCTYPE html>
<html class="no-js">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>AXP Core</title>
    <link href="images/logo-icon.svg" rel="icon" type="image/svg">
    <script>var pathToRoot = "";</script>
    <script>document.documentElement.classList.replace("no-js","js");</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
    if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    } else {
        const savedDarkMode = JSON.parse(storage)
        if(savedDarkMode === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    }
    </script>
<script type="text/javascript" src="https://unpkg.com/kotlin-playground@1/dist/playground.min.js" async="async"></script>
<script type="text/javascript" src="scripts/sourceset_dependencies.js" async="async"></script>
<link href="styles/style.css" rel="Stylesheet">
<link href="styles/main.css" rel="Stylesheet">
<link href="styles/prism.css" rel="Stylesheet">
<link href="styles/logo-styles.css" rel="Stylesheet">
<link href="styles/font-jb-sans-auto.css" rel="Stylesheet">
<script type="text/javascript" src="scripts/clipboard.js" async="async"></script>
<script type="text/javascript" src="scripts/navigation-loader.js" async="async"></script>
<script type="text/javascript" src="scripts/platform-content-handler.js" async="async"></script>
<script type="text/javascript" src="scripts/main.js" defer="defer"></script>
<script type="text/javascript" src="scripts/prism.js" async="async"></script>
<script type="text/javascript" src="scripts/symbol-parameters-wrapper_deferred.js" defer="defer"></script>
</head>
<body>
    <div class="root">
<nav class="navigation" id="navigation-wrapper">
    <div class="navigation--inner">
        <div class="navigation-title">
            <button class="menu-toggle" id="menu-toggle" type="button">toggle menu</button>
            <div class="library-name">
                    <a class="library-name--link" href="index.html">
                            AXP Core
                    </a>
            </div>
            <div class="library-version">
0.1            </div>
        </div>
        <div class="filter-section" id="filter-section">
                <button class="platform-tag platform-selector jvm-like" data-active="" data-filter=":core:dokkaHtml/main">jvm</button>
        </div>
    </div>
    <div class="navigation-controls">
        <button class="navigation-controls--btn navigation-controls--theme" id="theme-toggle-button" type="button">switch theme</button>
        <div class="navigation-controls--btn navigation-controls--search" id="searchBar" role="button">search in API</div>
    </div>
</nav>
        <div id="container">
            <div class="sidebar" id="leftColumn">
                <div class="sidebar--inner" id="sideMenu"></div>
            </div>
            <div id="main">
<div class="main-content" id="content" pageIds="AXP Core::////PointingToDeclaration//-121426938">
  <div class="breadcrumbs"></div>
  <div class="cover ">
    <h1 class="cover"><span><span>AXP</span></span> <span><span>Core</span></span></h1>
    <div class="platform-hinted UnderCoverText" data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":core:dokkaHtml/main"><h2 class="">Overview</h2><p class="paragraph">The AXP Core module provides the basic functionality to configure the SDK and retrieve the default conversation of the user.</p><h3 class="">Disclaimer</h3><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">Installing, downloading, copying or using this SDK is subject to terms and conditions available in the LICENSE file</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h2 class="">Installation</h2><p class="paragraph">Before you can start using the Core & Messaging SDK, there are a few setup steps you need to complete.</p><h3 class="">Provisioning Requirements</h3><p class="paragraph">First, ensure that the messaging integration provisioning requirements are met. This involves providing the <code class="lang-kotlin">integrationId</code>, a valid JWT Token Provider, and an Application Key <code class="lang-kotlin">appkey</code> during the <a href="https://developers.avayacloud.com/avaya-experience-platform/docs/digital-channel-javascript-sdk-overview#initialization">initialization process</a>.</p><p class="paragraph">For detailed instructions on how to provision the messaging integration, obtain the <code class="lang-kotlin">integrationId</code> and <code class="lang-kotlin">appkey</code>, and generate a valid JWT Token, please refer to <a href="https://developers.avayacloud.com/avaya-experience-platform/docs/digital-channel-chat-sdk-provisioning">this guide</a>.</p><h2 class="">Installation</h2><p class="paragraph">Add this core dependency to your <code class="lang-kotlin">build.gradle</code> file:</p><div class="sample-container"><pre><code class="block lang-groovy" theme="idea">// For Groovy<br>dependencies {<br>    implementation 'com.avaya.sdk:core:${avayaSdkVersion}'<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">or</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// For Kotlin DSL<br>dependencies {<br>    implementation(&quot;com.avaya.sdk:core:${avayaSdkVersion}&quot;)<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">Replace <code class="lang-kotlin">${avayaSdkVersion}</code> with the latest version of the AXP SDK.</p><h2 class="">SDK Configuration</h2><p class="paragraph">Before using any SDK functionality, it needs to be configured using the <code class="lang-kotlin">AxpClientSdk.configureSdk</code> method. The configuration parameters include:</p><ol><li><p class="paragraph">One that takes a region parameter, which is an enumerated type defining the various geographic    regions around the world in which AXP is provided. The region closest to the developer's location    should be used.</p></li><li><p class="paragraph">Another that takes a hostname parameter, which is the hostname of the AXP API endpoint to connect    to. This is primarily intended for internal Avaya use, because it allows connecting to    development    labs and not just the production environments.</p></li></ol><h3 class="">Configuration Parameters</h3><ul><li><p class="paragraph"><code class="lang-kotlin">host</code>: Hostname of the AXP API endpoint to connect to or an AXP region code. If a region code is provided (e.g., &quot;na&quot; for North America), it will be converted to the corresponding hostname (e.g., &quot;na.cc.avayacloud.com&quot;). If a full hostname is provided (e.g., &quot;axp-dev.avayacloud.com&quot;), it will be used as is.</p></li><li><p class="paragraph"><code class="lang-kotlin">appKey</code>: Application Key which is required to access the API for your Account.</p></li><li><p class="paragraph"><code class="lang-kotlin">integrationId</code>: The integration ID for the tenant that is configured on AXP.</p></li><li><p class="paragraph"><code class="lang-kotlin">jwtProvider</code>: Application-provided instance that fetches a JWT for authentication from AXP.</p></li><li><p class="paragraph"><code class="lang-kotlin">configMap</code>: Optional map of additional configuration. See SdkConfigKey for the possible entries.</p></li></ul><p class="paragraph">Here's an example of SDK configuration for an application in North America:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">AxpClientSdk.configureSdk(<br>    host = AxpApiRegion.NORTH_AMERICA,<br>    appKey = MY_APP_KEY,<br>    integrationId = MY_INTEGRATION_ID,<br>    jwtProvider = MyJwtProvider(),<br>    configMap = mapOf(<br>        SdkConfigKey.USER_AGENT to MY_USER_AGENT,<br>        SdkConfigKey.APPLICATION_CONTEXT to applicationContext<br>    )<br>)</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">or you can even use</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">AxpClientSdk.configureSdk(<br>    host = HOST_NAME,<br>    integrationId = MY_INTEGRATION_ID,<br>    jwtProvider = MyJwtProvider(),<br>    configMap = mapOf(<br>        SdkConfigKey.USER_AGENT to MY_USER_AGENT,<br>        SdkConfigKey.APPLICATION_CONTEXT to applicationContext<br>    )<br>)</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h2 class="">Authentication</h2><p class="paragraph">The AXP Client SDK uses JSON Web Tokens (JWT) for client authentication. The JWT is obtained from your own web application that communicates with AXP's authentication API.<br>Implementing the JwtProvider Interface</p><p class="paragraph">To provide the SDK with the JWT, you need to implement the JwtProvider interface in your application. This interface has a single method, fetchJwt, which is a suspending function that returns a JWT. In your implementation of fetchJwt, you should connect to your web application, which in turn talks to AXP to get the JWT. If there is any failure in getting the JWT, return null and the corresponding HTTP request will fail with an authentication error. Here is an example of how you might implement this interface:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">class MyJwtProvider : JwtProvider {<br>    override suspend fun fetchJwt(): String? {<br>        // Connect to your web application here<br>        // If successful, return the JWT<br>        // If not, return null<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">Once you have implemented the JwtProvider interface, you can pass an instance of your implementation to the AxpClientSdk.configureSdk method:</p><h2 class="">Asynchronous Operation</h2><p class="paragraph">The AXP SDK provides two types of asynchronous operations:</p><ol><li><p class="paragraph"><strong>Kotlin Coroutines</strong>: These are operations that are defined as suspend fun in Kotlin. They are    designed    to be used with Kotlin's built-in coroutines feature for handling asynchronous tasks. When these    operations complete, they return an instance of the AxpResult type.</p></li><li><p class="paragraph"><strong>Async Callbacks</strong>: These are operations that have &quot;Async&quot; appended to their name. They are    designed    for use by applications that are not using Kotlin coroutines. These operations take an additional    parameter, which is an application-supplied instance of the ResponseHandler callback type.</p></li></ol><h3 class="">Example: getDefaultConversation</h3><p class="paragraph">Here's an example of how you might use both types of asynchronous operations with the getDefaultConversation method in the AXP SDK:</p><h4 class="">Using Kotlin Coroutines</h4><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">launch {<br>    when (val conversationResult = AxpClientSdk.getDefaultConversation()) {<br>        is AxpResult.Success -&gt; {<br>            // Handle success<br>            val conversation = conversationResult.value<br>        }<br>        is AxpResult.Failure -&gt; {<br>            // Handle failure<br>            val error = result.error<br>        }<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h4 class="">Using Async Callbacks</h4><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">AxpClientSdk.getDefaultConversation(object : ResponseHandler&lt;UserSession&gt; {<br>    override fun onSuccess(conversationResult: Conversation) {<br>        // Handle success<br>        val conversation = conversationResult.value<br>    }<br><br>    override fun onFailure(error: AxpSdkError) {<br>        // Handle failure<br>    }<br>})</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h2 class="">Session Management</h2><h3 class="">getDefaultConversation</h3><p class="paragraph">The <code class="lang-kotlin">getDefaultConversation</code> method is used to get the default conversation.</p><p class="paragraph">This method throws a SdkNotConfiguredException if configureSdk has not previously been called.</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td>contextParameters</td><td>Optional key/value context information. This information might be used to make business decisions on how the dialog is treated. For example, the client application might want to send hints about customer's interest based on the customer's searches or FAQ browsing.</td></tr><tr><td>conversationId</td><td>Unique Identifier for the conversation</td></tr><tr><td>participants</td><td>The current Participants in the conversation across all channel types.</td></tr><tr><td>participantsFlow</td><td><code class="org.jetbrains.dokka.pages.commenttable@2a1e279e lang-kotlin">Flow</code> to observe for when the set of participants changes across all channel types.</td></tr></tbody></table><table><thead><tr><th>Methods</th><th>Description</th></tr></thead><tbody><tr><td>getParticipantById(participantId)</td><td>Returns the Participant in the conversation with the given ID.</td></tr><tr><td>participants(channel: AxpChannel)</td><td>Returns a set of <code class="org.jetbrains.dokka.pages.commenttable@2a1e279e lang-kotlin">Participants</code> that are part of the conversation in the specified channel.</td></tr><tr><td>addParticipantsChangedListener(listener: ParticipantsChangedListener)</td><td>For Java applications that can't directly observe a Kotlin Flow, use this to register a listener to be called when the set of participants in the conversation changes.</td></tr><tr><td>removeParticipantsChangedListener(listener:ParticipantsChangedListener)</td><td>Removes the attached listener from the conversation</td></tr></tbody></table><h3 class="">Shutdown SDK</h3><p class="paragraph">The <code class="lang-kotlin">shutDown</code> method is used to terminate the current user session. Irrespective of the success or failure of the termination operation, the SDK cleanup will be performed.</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">AxpClientSdk.shutDown()</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div></div></div>
  </div>
  <h2 class="">Packages</h2>
  <div class="table"><a data-name="-1481807140%2FPackages%2F-121426938" anchor-label="com.avaya.axp.client.sdk.core" id="-1481807140%2FPackages%2F-121426938" data-filterable-set=":core:dokkaHtml/main"></a>
    <div class="table-row" data-filterable-current=":core:dokkaHtml/main" data-filterable-set=":core:dokkaHtml/main">
      <div>
        <div class="main-subrow ">
          <div class=""><span class="inline-flex">
              <div><a href="-a-x-p -core/com.avaya.axp.client.sdk.core/index.html">com.avaya.axp.client.sdk.core</a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1481807140%2FPackages%2F-121426938"></span>
                <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
              </span></span></div>
          <div class="pull-right">
            <div class="platform-tags no-gutters">
              <div class="platform-tag jvm-like">jvm</div>
            </div>
          </div>
        </div>
        <div></div>
      </div>
    </div>
  </div>
</div>
      <div class="footer">
        <span class="go-to-top-icon"><a href="#content" id="go-to-top-link"></a></span><span>© 2024 Copyright</span><span
                class="pull-right"><span>Generated by </span><a
                href="https://github.com/Kotlin/dokka"><span>dokka</span><span class="padded-icon"></span></a></span>
      </div>
            </div>
        </div>
    </div>
</body>
</html>
