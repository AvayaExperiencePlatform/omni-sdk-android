<!DOCTYPE html>
<html class="no-js">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>AXP Core</title>
    <link href="images/logo-icon.svg" rel="icon" type="image/svg">
    <script>var pathToRoot = "";</script>
    <script>document.documentElement.classList.replace("no-js","js");</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
    if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    } else {
        const savedDarkMode = JSON.parse(storage)
        if(savedDarkMode === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    }
    </script>
<script type="text/javascript" src="https://unpkg.com/kotlin-playground@1/dist/playground.min.js" async="async"></script>
<script type="text/javascript" src="scripts/sourceset_dependencies.js" async="async"></script>
<link href="styles/style.css" rel="Stylesheet">
<link href="styles/main.css" rel="Stylesheet">
<link href="styles/prism.css" rel="Stylesheet">
<link href="styles/logo-styles.css" rel="Stylesheet">
<link href="styles/font-jb-sans-auto.css" rel="Stylesheet">
<script type="text/javascript" src="scripts/clipboard.js" async="async"></script>
<script type="text/javascript" src="scripts/navigation-loader.js" async="async"></script>
<script type="text/javascript" src="scripts/platform-content-handler.js" async="async"></script>
<script type="text/javascript" src="scripts/main.js" defer="defer"></script>
<script type="text/javascript" src="scripts/prism.js" async="async"></script>
<script type="text/javascript" src="scripts/symbol-parameters-wrapper_deferred.js" defer="defer"></script>
</head>
<body>
    <div class="root">
<nav class="navigation" id="navigation-wrapper">
    <div class="navigation--inner">
        <div class="navigation-title">
            <button class="menu-toggle" id="menu-toggle" type="button">toggle menu</button>
            <div class="library-name">
                    <a class="library-name--link" href="index.html">
                            AXP Core
                    </a>
            </div>
            <div class="library-version">
0.2.0            </div>
        </div>
        <div class="filter-section" id="filter-section">
                <button class="platform-tag platform-selector jvm-like" data-active="" data-filter=":core:dokkaHtml/release">androidJvm</button>
        </div>
    </div>
    <div class="navigation-controls">
        <button class="navigation-controls--btn navigation-controls--theme" id="theme-toggle-button" type="button">switch theme</button>
        <div class="navigation-controls--btn navigation-controls--search" id="searchBar" role="button">search in API</div>
    </div>
</nav>
        <div id="container">
            <div class="sidebar" id="leftColumn">
                <div class="sidebar--inner" id="sideMenu"></div>
            </div>
            <div id="main">
<div class="main-content" id="content" pageIds="AXP Core::////PointingToDeclaration//197447377">
  <div class="breadcrumbs"></div>
  <div class="cover ">
    <h1 class="cover"><span><span>AXP</span></span> <span><span>Core</span></span></h1>
    <div class="platform-hinted UnderCoverText" data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":core:dokkaHtml/release"><h2 class="">Overview</h2><p class="paragraph">The AXP Core module is the fundamental base of the Android version of the AXP Client SDK.</p><p class="paragraph">The main responsibility of the core is to manage sessions with AXP. It provides the essential logic for configuring the SDK and making REST API calls to AXP. However, this module is not standalone and works in conjunction with two other optional modules:</p><ol><li><p class="paragraph"><strong>AxpMessaging</strong>: Enables text messaging to agents in AXP.</p></li><li><p class="paragraph"><strong>AxpCalling</strong>: Enables voice calls with agents in AXP over the Internet    using WebRTC.</p></li></ol><p class="paragraph">Developers can choose to include only the modules needed for their application and omit the others if their functionality is not required. Note that the Core module is always required.</p><h2 class="">Prerequisites</h2><p class="paragraph">To use this SDK, you need an account registered with the Avaya Experience Platform™, and have that account provisioned to enable use of the client APIs.</p><p class="paragraph">Once you have an account, it must be provisioned for the following two items:</p><ol><li><p class="paragraph"><strong>Integration ID</strong></p><p class="paragraph">To create an integration, follow the instructions in <a href="https://documentation.avaya.com/bundle/ExperiencePlatform_Administering_10/page/Creating_an_Omni_SDK_integration.html">Creating an Omni SDK    Integration</a>.    The two services you can enable there    (<strong>Messaging</strong> and <strong>WebRTC Voice</strong>) each correspond to a client SDK module,    and you must enable the services for the modules that you will use.</p><p class="paragraph">Note the integration ID that is created, as you will need to provide it when    configuring the SDK as described below.</p></li><li><p class="paragraph"><strong>Application Key</strong></p><p class="paragraph">To enable remote access to the AXP APIs, you need to get an application key    as described in <a href="https://developers.avayacloud.com/avaya-experience-platform/docs/how-to-authenticate-with-axp-apis">How to Authenticate with Avaya Experience Platform™    APIs</a>.</p><p class="paragraph">Note the application key that is created, as you will need to provide it when    configuring the SDK as described below.</p></li></ol><h2 class="">Installation</h2><p class="paragraph">The AXP Core module is distributed via the Maven registry in GitHub Packages.</p><h3 class="">Maven Installation</h3><p class="paragraph">If you have a GitHub account, you can use it to download the package automatically from the registry.</p><h4 class="">Generate a Personal Access Token</h4><p class="paragraph">To download packages from the GitHub registry, you first need to generate an authentication token for your GitHub account.</p><p class="paragraph">To generate one, follow the instructions from <a href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens#creating-a-personal-access-token-classic">Creating a personal access token (classic)</a>. For the selected scopes, pick &quot;read:packages&quot;.</p><h4 class="">Add Repository</h4><p class="paragraph">To access the AXP SDK repository, add the following to your <code class="lang-kotlin">build.gradle</code> or <code class="lang-kotlin">settings.gradle</code> file:</p><div class="sample-container"><pre><code class="block lang-groovy" theme="idea">// For Groovy<br>repositories {<br>    maven {<br>        url = uri(&quot;https://maven.pkg.github.com/AvayaExperiencePlatform/omni-sdk-android&quot;)<br>        credentials {<br>            username = &quot;&lt;GITHUB-ACCOUNT&gt;&quot;<br>            password = &quot;&lt;GITHUB-TOKEN&gt;&quot;<br>        }<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">or if using the Kotlin DSL, <code class="lang-kotlin">build.gradle.kts</code> or <code class="lang-kotlin">settings.gradle.kts</code> file:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// For Kotlin DSL<br>repositories {<br>    maven {<br>        url = uri(&quot;https://maven.pkg.github.com/AvayaExperiencePlatform/omni-sdk-android&quot;)<br>        credentials {<br>            username = &quot;&lt;GITHUB-ACCOUNT&gt;&quot;<br>            password = &quot;&lt;GITHUB-TOKEN&gt;&quot;<br>        }<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">replacing <code class="lang-kotlin">&lt;GITHUB-ACCOUNT&gt;</code> with your GitHub user ID and <code class="lang-kotlin">&lt;GITHUB-TOKEN&gt;</code> with the token generated in the previous step.</p><h4 class="">Include Package</h4><p class="paragraph">To include the package in your project, add the following to your <code class="lang-kotlin">build.gradle</code> file:</p><div class="sample-container"><pre><code class="block lang-groovy" theme="idea">// For Groovy<br>dependencies {<br>    implementation 'com.avaya.sdk:core:${avayaSdkVersion}'<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">or Kotlin <code class="lang-kotlin">build.gradle.kts</code> file:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// For Kotlin DSL<br>dependencies {<br>    implementation(&quot;com.avaya.sdk:core:${avayaSdkVersion}&quot;)<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">Replace <code class="lang-kotlin">${avayaSdkVersion}</code> with the latest version of the AXP SDK.</p><h3 class="">Manual Installation</h3><p class="paragraph">If you don't have or wish to use a GitHub account, you can download the package manually from <a href="https://github.com/AvayaExperiencePlatform/omni-sdk-android/packages/2150727">its package page</a>.</p><h4 class="">Include Package</h4><p class="paragraph">To include the package in your project, add the following to your <code class="lang-kotlin">build.gradle</code> file:</p><div class="sample-container"><pre><code class="block lang-groovy" theme="idea">// For Groovy<br>dependencies {<br>    implementation files('${path}/core-${avayaSdkVersion}.aar')<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">or Kotlin <code class="lang-kotlin">build.gradle.kts</code> file:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">// For Kotlin DSL<br>dependencies {<br>    implementation(files(&quot;${path}/core-${avayaSdkVersion}.jar.aar&quot;))<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">Replace <code class="lang-kotlin">${avayaSdkVersion}</code> with the version number of the AXP SDK and <code class="lang-kotlin">${path}</code> with the directory you put the downloaded package file in.</p><h2 class="">SDK Configuration</h2><p class="paragraph">Before using any SDK functionality, it needs to be configured using the <code class="lang-kotlin">AxpClientSdk.configureSdk</code> method.</p><h3 class="">Configuration Parameters</h3><ul><li><p class="paragraph"><code class="lang-kotlin">applicationContext</code>: Your Android application's context. It must be the   application context, and can not be an activity or service context.</p></li><li><p class="paragraph"><code class="lang-kotlin">host</code>: The hostname of the AXP API endpoint to connect to. You can also pass   in an <code class="lang-kotlin">AxpApiRegion</code> instance for the AXP geographic region of your account.</p></li><li><p class="paragraph"><code class="lang-kotlin">appKey</code>: The application key for your tenant integration configured on AXP,   as described in the <i>Prerequisites</i> section above.</p></li><li><p class="paragraph"><code class="lang-kotlin">integrationId</code>: The integration ID for the tenant that is configured on AXP,   as described in the <i>Prerequisites</i> section above.</p></li><li><p class="paragraph"><code class="lang-kotlin">jwtProvider</code>: An instance implementing the <code class="lang-kotlin">JwtProvider</code> interface to be used   in authenticating the client with AXP.</p></li><li><p class="paragraph"><code class="lang-kotlin">configMap</code>: An optional map of additional configuration items. See the   <code class="lang-kotlin">SdkConfigKey</code> enumerated type for the possible keys in this map and their   possible values. The contents of this map are checked at runtime for type   correctness, and an exception will be thrown if a value is not of the expected   type for its key.</p></li></ul><p class="paragraph">Here's an example of SDK configuration for an application in North America:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">AxpClientSdk.configureSdk(<br>    applicationContext = context,<br>    host = AxpApiRegion.NORTH_AMERICA,<br>    appKey = MY_APP_KEY,<br>    integrationId = MY_INTEGRATION_ID,<br>    jwtProvider = MyJwtProvider(),<br>    configMap = mapOf(<br>        SdkConfigKey.USER_AGENT to MY_USER_AGENT,<br>        SdkConfigKey.DISPLAY_NAME to &quot;My User Name&quot;<br>    )<br>)</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h2 class="">Authentication</h2><p class="paragraph">The AXP Client SDK uses JSON Web Tokens (JWT) for client authentication. The JWT is obtained from your own web application that communicates with AXP's authentication API.</p><h3 class="">Implementing the JwtProvider Interface</h3><p class="paragraph">To provide the SDK with the JWT, you need to implement the <code class="lang-kotlin">JwtProvider</code> interface in your application. This interface has a single method, <code class="lang-kotlin">fetchJwt</code>, which is a suspending function that returns a JWT.</p><p class="paragraph">In your implementation of <code class="lang-kotlin">fetchJwt</code>, you should connect to your web application, which in turn talks to AXP to get the JWT. If there is any failure in getting the JWT, return <code class="lang-kotlin">null</code> and the corresponding HTTP request will fail with an authentication error.</p><p class="paragraph">Here is an example of how you might implement this interface:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">class MyJwtProvider : JwtProvider {<br>    override suspend fun fetchJwt(): String? {<br>        // Connect to your web application here<br>        // If successful, return the JWT<br>        // If not, return null<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">Once you have implemented the <code class="lang-kotlin">JwtProvider</code> interface, you pass an instance of your implementation to the <code class="lang-kotlin">AxpClientSdk.configureSdk</code> method as part of the configuration process.</p><h2 class="">Asynchronous Operation</h2><p class="paragraph">For every API call that involves asynchronous operation (such as making network requests to AXP), the AXP Client SDK provides two versions for Android:</p><ol><li><p class="paragraph"><strong>Kotlin Coroutines</strong>: These are operations that are defined as <code class="lang-kotlin">suspend fun</code>    in Kotlin. They are designed to be used from Kotlin coroutines for handling    asynchronous tasks. When these operations complete, they return an instance    of the <code class="lang-kotlin">AxpResult</code> type, which wraps a success value or an error.</p></li><li><p class="paragraph"><strong>Async Callbacks</strong>: These are operations that are defined without the    <code class="lang-kotlin">suspend</code> keyword. They are designed for use by applications that are not    using Kotlin coroutines (e.g. apps written in Java). These operations take an    additional parameter, which is an application-supplied instance of the    <code class="lang-kotlin">ResponseHandler</code> callback type. When the operation completes, the supplied    callback will be invoked with either the success value or an error object.</p></li></ol><h3 class="">Example: getDefaultConversation</h3><p class="paragraph">Here's an example of how you might use both types of asynchronous operations with the <code class="lang-kotlin">getDefaultConversation</code> method in the AXP SDK:</p><h4 class="">Using Kotlin Coroutines</h4><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">launch {<br>    when (val result = AxpClientSdk.getDefaultConversation()) {<br>        is AxpResult.Success -&gt; {<br>            // Handle success<br>            val conversation = result.value<br>        }<br>        is AxpResult.Failure -&gt; {<br>            // Handle failure<br>            val error = result.error<br>        }<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h4 class="">Using Async Callbacks</h4><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">AxpClientSdk.getDefaultConversation(object : ResponseHandler&lt;Conversation&gt; {<br>    override fun onSuccess(result: Conversation) {<br>        // Handle success<br>    }<br><br>    override fun onFailure(error: AxpError) {<br>        // Handle failure<br>    }<br>})</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h2 class="">AxpClientSdk Methods</h2><p class="paragraph">The AXP Client SDK provides the following class methods that apply to the SDK as a whole.</p><h3 class="">Getting the Conversation</h3><p class="paragraph">The <code class="lang-kotlin">getDefaultConversation</code> returns a <code class="lang-kotlin">Conversation</code> instance that can be used with the other modules for a chat message session or voice call. If there is not currently a conversation, a new one will be created.</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">suspend fun getDefaultConversation(): AxpResult&lt;out Conversation&gt;<br><br>fun getDefaultConversation(responseHandler: ResponseHandler&lt;Conversation&gt;)</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class="">Terminating the SDK</h3><p class="paragraph">The <code class="lang-kotlin">shutDown</code> method is used to terminate the current user session. After calling this, the SDK can no longer be used until it is reconfigured by calling <code class="lang-kotlin">configureSdk</code> again.</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">suspend fun shutDown(): AxpResult&lt;Unit&gt;<br><br>fun shutDown(responseHandler: ResponseHandler&lt;Unit&gt;)</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">This method does not take any parameters. There is effectively no result value, but if there is an error it will be communicated via the <code class="lang-kotlin">AxpResult</code> or <code class="lang-kotlin">ResponseHandler</code>. Even if an error occurs, the SDK is terminated and can not be used afterward.</p></div></div>
  </div>
  <h2 class="">Packages</h2>
  <div class="table"><a data-name="-1481807140%2FPackages%2F197447377" anchor-label="com.avaya.axp.client.sdk.core" id="-1481807140%2FPackages%2F197447377" data-filterable-set=":core:dokkaHtml/release"></a>
    <div class="table-row" data-filterable-current=":core:dokkaHtml/release" data-filterable-set=":core:dokkaHtml/release">
      <div>
        <div class="main-subrow ">
          <div class=""><span class="inline-flex">
              <div><a href="-a-x-p -core/com.avaya.axp.client.sdk.core/index.html">com.avaya.axp.client.sdk.core</a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1481807140%2FPackages%2F197447377"></span>
                <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
              </span></span></div>
          <div class="pull-right">
            <div class="platform-tags no-gutters">
              <div class="platform-tag jvm-like">androidJvm</div>
            </div>
          </div>
        </div>
        <div></div>
      </div>
    </div>
  </div>
</div>
      <div class="footer">
        <span class="go-to-top-icon"><a href="#content" id="go-to-top-link"></a></span><span>© 2024 Copyright</span><span
                class="pull-right"><span>Generated by </span><a
                href="https://github.com/Kotlin/dokka"><span>dokka</span><span class="padded-icon"></span></a></span>
      </div>
            </div>
        </div>
    </div>
</body>
</html>
